var sortOrder={column:'LName',order:'desc',type:'',json:''};function setSelection(a,b){for(var c in b)b[c]!=a&&$('#'+b[c]).attr('class','notSelected');$('#'+a).attr('class','selected')}function setDir(a){sortOrder.order=a,sortOrder.type='',setSelection(a,{asc:'desc',desc:'asc'}),sort(sortOrder.column)}function sort(a){var b='sortable',c={Age:'Age',FName:'FName',LName:'LName'};if('Too'==a.substr(-3)){const d='Too';b+=d,c.Age+=d,c.FName+=d,c.LName+=d,sortOrder.type='Too'}else sortOrder.type='';setSelection(a,c),sortOrder.column=a,postNewSort(b)}function setRow(a,b){var c='sortable'+sortOrder.type,d=document.getElementById(c).rows[b].cells;for(var e in a)d[e].innerHTML=a[e]}function showResponse(a){var b=JSON.parse(a);for(var c in b)setRow(b[c],parseInt(c)+1)}function postNewSort(a){getData(a),$.ajax({type:'POST',url:'./ajax',data:sortOrder,success:showResponse})}function getData(a){var b=document.getElementById(a).rows,c=[];for(var d in b)if(0!=d&&'undefined'!=typeof b[d].innerHTML){var e={};e.FName=b[d].cells[0].innerHTML,e.LName=b[d].cells[1].innerHTML,e.Age=b[d].cells[2].innerHTML,c.push(e)}sortOrder.json=JSON.stringify(c)}function setSource(){$('#column').val(sortOrder.column),$('#order').val(sortOrder.order),$('#setSource').submit()}